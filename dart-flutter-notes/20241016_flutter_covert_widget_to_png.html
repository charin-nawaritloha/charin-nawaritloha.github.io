<!DOCTYPE html>
<html>
<head>
	<title>Flutter: ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ RenderRepaintBoundary ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô Widget ‡∏ö‡∏ô‡∏à‡∏≠ ‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏û PNG</title>	

	<!--header-->
<meta charset="utf-8">
<meta name="author" content="Charin Nawaritloha">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" type="image/x-icon" href="favicon.ico">

<!-- syntax highlight -->
<link rel="stylesheet" href="highlight/styles/vs.css">
<script src="highlight/highlight.js"></script>
<script src="highlight/highlightjs-line-numbers.min.js"></script>	
<script>hljs.highlightAll();hljs.initLineNumbersOnLoad();</script>

<!-- web page css -->
<link href='css/normalize.css' rel='stylesheet' type='text/css'>
<link href='css/skeleton.css' rel='stylesheet' type='text/css'>
<link href='css/main.css' rel='stylesheet' type='text/css'>
<link href='css/fonts.css' rel='stylesheet' type='text/css'>

<!-- table of content generater -->
<script src='toc_js/toc.js' type='text/javascript'></script>

<!-- google ads -->
<script data-ad-client="ca-pub-9963456691869043" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!--/header-->
</head>


<body>

<div class="container">
<!--navbar-->
<div id="tocBox">
	<img id="clickmenu" src="images/menu.svg" />
	<div id="divtoc"></div>
</div>
<div id="navbar">
	<div class="container">
		<a href="index.html">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
		<a href="p/portfolio.html" class="nowrap">‡∏ú‡∏•‡∏á‡∏≤‡∏ô</a>
		<a href="p/profiles.html" class="nowrap">‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô</a>
	</div>
</div>
<div id="navbar_space"></div>
<!--/navbar-->




<div class="row">
<div class="twelve columns">
<!--content -->



<h1>Flutter: ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ RenderRepaintBoundary ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô Widget ‡∏ö‡∏ô‡∏à‡∏≠ ‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏û PNG</h1>
<p><img src="images/20241016/20241016_0000_cover.svg" class="u-max-full-width" /></p>
<p>‡∏≠‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏°‡∏≤‡∏à‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ß‡πâ ‡∏ï‡∏≠‡∏ô‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÅ‡∏≠‡∏õ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏∞‡πÄ‡∏≠‡∏≤ Widget ‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ö‡∏ô‡∏à‡∏≠‡∏°‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå ‡∏ã‡∏∂‡πà‡∏á‡∏Å‡∏≤‡∏£ <a target="_blank" href="https://api.flutter.dev/flutter/rendering/RenderRepaintBoundary-class.html">RenderRepaintBoundary</a> ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏≠‡∏≤‡∏°‡∏≤ render ‡∏ï‡∏±‡∏ß Widget ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡πÉ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏ ‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏≥‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏û PNG ‡πÑ‡∏î‡πâ ‡∏ã‡∏∂‡πà‡∏á‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ô‡∏≥‡πÄ‡∏≠‡∏≤‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏≠‡∏≤‡∏°‡∏≤‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏ü‡∏•‡πå <a target="_blank" href="https://en.wikipedia.org/wiki/PNG">PNG</a> ‡∏™‡πà‡∏ß‡∏ô‡∏á‡∏≤‡∏ô‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏≠‡∏≤‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏Ñ‡∏∑‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏°‡∏û‡πå‡∏≠‡∏≠‡∏Å‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏© ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏ü‡∏•‡πå PDF ‡∏ã‡∏∂‡πà‡∏∑‡∏á‡∏°‡∏±‡∏ô‡∏°‡∏µ Package ‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß</p>
<p>‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô RenderRepaintBoundary ‡πÑ‡∏õ‡∏î‡∏π‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏≤‡πÅ‡∏ä‡∏£‡πå‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Ñ‡∏¥‡∏î‡πÄ‡∏≠‡∏á üòÖ ‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡πÅ‡∏´‡πà‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡πà‡∏á‡∏õ‡∏±‡∏ô</p>
<h2>‡∏Å‡∏≥‡∏´‡∏ô‡∏î Widget ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö RenderRepaintBoundary</h2>
<p>‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á <a target="_blank" href="https://api.flutter.dev/flutter/rendering/RenderRepaintBoundary/RenderRepaintBoundary.html"><code>RenderRepaintBoundary</code></a> ‡∏°‡∏µ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ</p>
<pre><code class="language-dart">RenderRepaintBoundary({
  RenderBox? child,
})
</code></pre>
<p>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á MyWidget ‡πÇ‡∏î‡∏¢‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡πÉ‡∏ô RenderRepaintBoundary ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏≠‡∏á‡πÄ‡∏≠‡∏≤‡∏°‡∏≤‡∏Ç‡∏¢‡∏≤‡∏¢‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏õ‡πá‡∏ô 2 ‡πÄ‡∏ó‡πà‡∏≤‡πÅ‡∏•‡∏∞‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ö‡∏ö‡πÑ‡∏ü‡∏•‡πå PNG ‡∏î‡∏π</p>
<pre><code class="language-dart">class MyWidget extends StatelessWidget {
  const MyWidget({super.key});

  @override
  Widget build(BuildContext context) {
    return SizedBox(
      width: 200,
      child: Column(mainAxisAlignment: MainAxisAlignment.center, children: [
        const Text('This is sample widget'),
        OutlinedButton(onPressed: () {}, child: const Text('sample button')),
        Image.asset('asset/Icon-192.png'),
        const Divider(color: Colors.green)
      ]),
    );
  }
}
</code></pre>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9963456691869043"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-9963456691869043"
     data-ad-slot="5702321883"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>‡∏™‡∏£‡πâ‡∏≤‡∏á RenderRepaintBoundary</h2>
<p>‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏ï‡∏±‡∏ß RenderRepaintBoundary ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á PNG ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á ‡πÄ‡∏•‡∏¢‡∏Å‡∏≥‡∏´‡∏ô‡∏î <code>GlobalKey()</code> ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ</p>
<pre><code class="language-dart">class MainApp extends StatefulWidget {
  const MainApp({super.key});

  @override
  State&lt;MainApp&gt; createState() =&gt; _MainAppState();
}

class _MainAppState extends State&lt;MainApp&gt; {
  final GlobalKey _globalKey = GlobalKey();

  @override
  Widget build(BuildContext context) {
    Widget sampleWidget = RepaintBoundary(key: _globalKey, child: const MyWidget());
  }
}
</code></pre>
<p>‡πÉ‡∏ô‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á PNG ‡∏ä‡∏∑‡πà‡∏≠ <code>_createPng()</code> ‡∏à‡∏∞‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏≠‡πâ‡∏≤‡∏á‡∏ñ‡∏∂‡∏á <code>_globalKey</code> ‡∏ó‡∏µ‡πà‡πÄ‡∏≠‡∏≤‡πÑ‡∏õ‡∏ú‡∏π‡∏Å‡πÑ‡∏ß‡πâ‡∏Å‡∏±‡∏ö RepaintBoundary ‡πÇ‡∏î‡∏¢‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á <code>.currentContext</code> ‡∏à‡∏∞‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤ Context ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß Widget ‡∏ó‡∏µ‡πà render ‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô‡∏à‡∏≠ ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô <code>null</code> ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏™‡πà try-catch ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏±‡∏Å‡∏à‡∏±‡∏ö Exception ‡∏î‡πâ‡∏ß‡∏¢</p>
<pre><code class="language-dart">class _MainAppState extends State&lt;MainApp&gt; {
  final GlobalKey _globalKey = GlobalKey();
  Future&lt;Uint8List?&gt;? _output; // for store result from _createPng()

  Future&lt;Uint8List?&gt; _createPng() async {
    if (_globalKey.currentContext == null) {
      return null;
    }

    RenderRepaintBoundary boundary = _globalKey.currentContext!.findRenderObject() as RenderRepaintBoundary;
    double ratio = 2; // render in 2x size
    ui.Image image = await boundary.toImage(pixelRatio: ratio);
    ByteData? byteData = await image.toByteData(format: ui.ImageByteFormat.png);
    if (byteData != null) {
      return byteData.buffer.asUint8List();
    } else {
      return null;
    }
  }
}
</code></pre>
<p>‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á <a target="_blank" href="https://api.flutter.dev/flutter/rendering/RenderRepaintBoundary/toImage.html"><code>.toImage()</code></a> ‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö asynchronous ‡∏´‡∏≤‡∏Å‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á <a target="_blank" href="https://api.flutter.dev/flutter/rendering/RenderRepaintBoundary/toImageSync.html"><code>.toImageSync()</code></a> ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö synchronous</p>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9963456691869043"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-9963456691869043"
     data-ad-slot="5405806399"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script> 
 
<h2>‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö</h2>
<p>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á Widget ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏ó‡∏î‡∏•‡∏≠‡∏á ‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠ MyWidget ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î <code>create PNG in x2 size</code> ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î‡πÅ‡∏•‡πâ‡∏ß ‡∏à‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏Å <code>setState()</code> ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤ <code>_output = _createPng()</code> ‡πÅ‡∏•‡∏∞‡∏ß‡∏≤‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÉ‡∏´‡∏°‡πà</p>
<pre><code class="language-dart">  @override
  Widget build(BuildContext context) {
    Widget sampleWidget = RepaintBoundary(key: _globalKey, child: const MyWidget());

    if (_output == null) {
      return MaterialApp(
        home: Scaffold(
          body: Center(
              child: Column(
            children: [
              sampleWidget,
              OutlinedButton(
                  onPressed: () =&gt; setState(() =&gt; _output = _createPng()),
                  child: const Text('create PNG in x2 size'))
            ],
          )),
        ),
      );
    } else {
      // after user press the button ‚Üí _output = _createPng()
      return MaterialApp(
        home: Scaffold(
          body: Center(
              child: Column(
            children: [
              sampleWidget,
              const Text('output PNG'),
              Container(
                decoration: BoxDecoration(border: Border.all()),
                child: FutureBuilder(
                  future: _output,
                  builder: (context, snapshot) {
                    if (snapshot.hasData &amp;&amp; snapshot.data != null) {
                      return Image.memory(snapshot.data!); // snapshot.data ‚Üí data from _output
                    } else {
                      return const Text('error: invalid _output');
                    }
                  },
                ),
              )
            ],
          )),
        ),
      );
    }
  }
</code></pre>
<div class="image"><img src="images/20241016/20241016_0100_result.png" class="u-max-full-width" /><div><p>‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏†‡∏≤‡∏û PNG ‡∏Ç‡∏ô‡∏≤‡∏î 2 ‡πÄ‡∏ó‡πà‡∏≤</p>
</div></div>
<p>‡∏à‡∏≤‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏†‡∏≤‡∏û‡∏ú‡∏•‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ ‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡πÅ‡∏•‡∏∞‡∏Ç‡∏≠‡∏ö‡∏õ‡∏∏‡πà‡∏°‡∏ó‡∏µ‡πà‡πÅ‡∏õ‡∏•‡∏á‡∏°‡∏≤‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏°‡∏ä‡∏±‡∏î ‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏≤‡∏û icon ‡∏î‡∏π‡πÄ‡∏ö‡∏•‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏õ‡πá‡∏ô bitmap</p>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9963456691869043"
     crossorigin="anonymous"></script>
<!-- h2-3 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-9963456691869043"
     data-ad-slot="6575154506"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<h2>‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>
<p>‡πÑ‡∏ü‡∏•‡πå main.dart ‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÑ‡∏ü‡∏•‡πå <code>asset/Icon-192.png</code> ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢ ‡∏´‡∏≤‡∏Å‡πÉ‡∏ä‡πâ‡∏†‡∏≤‡∏û‡∏≠‡∏∑‡πà‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÉ‡∏ô <code>class MyWidget</code> ‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏ö‡∏ó‡∏¥‡πâ‡∏á‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£</p>
<pre><code class="language-dart">import 'dart:typed_data';
import 'dart:ui' as ui;

import 'package:flutter/material.dart';
import 'package:flutter/rendering.dart';

void main() {
  runApp(const MainApp());
}

class MainApp extends StatefulWidget {
  const MainApp({super.key});

  @override
  State&lt;MainApp&gt; createState() =&gt; _MainAppState();
}

class _MainAppState extends State&lt;MainApp&gt; {
  final GlobalKey _globalKey = GlobalKey();
  Future&lt;Uint8List?&gt;? _output;

  Future&lt;Uint8List?&gt; _createPng() async {
    if (_globalKey.currentContext == null) {
      return null;
    }

    RenderRepaintBoundary boundary = _globalKey.currentContext!.findRenderObject() as RenderRepaintBoundary;
    double ratio = 2;
    ui.Image image = await boundary.toImage(pixelRatio: ratio);
    ByteData? byteData = await image.toByteData(format: ui.ImageByteFormat.png);
    if (byteData != null) {
      return byteData.buffer.asUint8List();
    } else {
      return null;
    }
  }

  @override
  Widget build(BuildContext context) {
    Widget sampleWidget = RepaintBoundary(key: _globalKey, child: const MyWidget());

    if (_output == null) {
      return MaterialApp(
        home: Scaffold(
          body: Center(
              child: Column(
            children: [
              sampleWidget,
              OutlinedButton(
                  onPressed: () =&gt; setState(() =&gt; _output = _createPng()),
                  child: const Text('create PNG in x2 size'))
            ],
          )),
        ),
      );
    } else {
      return MaterialApp(
        home: Scaffold(
          body: Center(
              child: Column(
            children: [
              sampleWidget,
              const Text('output PNG'),
              Container(
                decoration: BoxDecoration(border: Border.all(color: const ui.Color.fromARGB(255, 255, 230, 0))),
                child: FutureBuilder(
                  future: _output,
                  builder: (context, snapshot) {
                    if (snapshot.hasData &amp;&amp; snapshot.data != null) {
                      return Image.memory(snapshot.data!);
                    } else {
                      return const Text('error: invalid _output');
                    }
                  },
                ),
              )
            ],
          )),
        ),
      );
    }
  }
}

class MyWidget extends StatelessWidget {
  const MyWidget({super.key});

  @override
  Widget build(BuildContext context) {
    return SizedBox(
      width: 200,
      child: Column(mainAxisAlignment: MainAxisAlignment.center, children: [
        const Text('This is sample widget'),
        OutlinedButton(onPressed: () {}, child: const Text('sample button')),
        Image.asset('asset/Icon-192.png'),
        const Divider(color: Colors.green)
      ]),
    );
  }
}
</code></pre>




<!--/content -->
</div></div>

<!--counter-->
<div class="row" style="padding-top:3rem;">
<div class="five columns">&nbsp;</div>
<div class="two columns">
	<div id="histats_counter"></div>
	<!-- Histats.com  START -->
	<script type="text/javascript">var _Hasync= _Hasync|| [];
	_Hasync.push(['Histats.start', '1,4227101,4,227,112,50,00011010']);
	_Hasync.push(['Histats.fasi', '1']);
	_Hasync.push(['Histats.track_hits', '']);
	(function() {
	var hs = document.createElement('script'); hs.type = 'text/javascript'; hs.async = true;
	hs.src = ('//s10.histats.com/js15_as.js');
	(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(hs);
	})();</script>
	<noscript><a href="/" target="_blank"><img  src="//sstatic1.histats.com/0.gif?4227101&101" alt="" border="0"></a></noscript>
	<!-- Histats.com  END -->
</div>
<div class="five columns">&nbsp;</div>	
</div>
<!--/counter-->



<!--footer-->
<!--share button-->
<script type="text/javascript">
function share_fb()
{
	window.open("https://www.facebook.com/sharer/sharer.php?u=" + encodeURIComponent(window.location.href), "_blank");
}

function share_twitter()
{
	window.open("https://twitter.com/intent/tweet?url=" + encodeURIComponent(window.location.href) + "&text="+ encodeURIComponent(document.title), "_blank");
}
</script>

<div class="row" style="padding-top:3rem;">
<center>
	<!-- LikeBtn.com BEGIN -->
	<span class="likebtn-wrapper" data-theme="custom" data-btn_size="38" data-f_size="14" data-icon_size="16" data-icon_l="hrt11" data-icon_d="thmb7-d" data-icon_l_c="#ff8888" data-icon_l_c_v="#ffffff" data-icon_d_c_v="#000000" data-label_c_v="#ffffff" data-bg_c_v="#2196f3" data-lang="th" data-ef_voting="push" data-show_dislike_label="true" data-i18n_like_tooltip="‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏µ‡πâ" data-i18n_dislike_tooltip="‡∏â‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏ä‡∏≠‡∏ö‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏µ‡πâ" data-i18n_unlike_tooltip="‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÉ‡∏à‡πÑ‡∏°‡πà‡∏ä‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß" data-i18n_undislike_tooltip="‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡∏ä‡∏≠‡∏ö"></span>
	<script>(function(d,e,s){if(d.getElementById("likebtn_wjs"))return;a=d.createElement(e);m=d.getElementsByTagName(e)[0];a.async=1;a.id="likebtn_wjs";a.src=s;m.parentNode.insertBefore(a, m)})(document,"script","//w.likebtn.com/js/w/widget.js");</script>
	<!-- LikeBtn.com END -->
</center>
<center style="padding-top:0.5rem;">	
	<button style="background-color: #3578e5;color: white;" onclick="share_fb();">‡πÅ‡∏ä‡∏£‡πå‡∏ö‡∏ô Facebook</button>
	<button style="background-color: #1b95e0;color: white;" onclick="share_twitter();">‡πÅ‡∏ä‡∏£‡πå‡∏ö‡∏ô Twitter</button>
</center>
</div>
<!--/share button-->
<!--/footer-->
</div>
</body>
</html>
<markdown style="display:none">
<!--
‡∏Å~+,^C)z!"/*rs)6Z3(&qQireD9mW%#NY‡∏ÇRpurV+qdRMc":^NMOI@0S5)n:XUg/.?I%iC1*]X]fF4*e)iK0;C#0L_cQsBMj(U!Im`QUfUoD(]0#SDU7,NT[UbAIONHP=]D)!ihRbiU(VH+i&iLk,2Ug_H:%m&X(MRn;S_StC`-4dtR1()#ZfN‡∏Ç'‡∏ÇpgUX3r(m4*i6u&l/Ym6*9$5$1c\*jDfFc/Rd@k/W7rU,dc‡∏Å]_m%k#\#]f'‡∏Å#D`;;]01br9.SOb[;t9Fg/Vos@:‡∏ÇkLh`0HQ3R6AH]!p.!N!jO"aY$I+?gjo7\"*'3G+'CkT$uaA0&FM%[eO=m.%P26pd8:235()hO4%Pd(S5R7='U*:-HEY:C(Vib'RA?YKi@‡∏Ç$8s‡∏ÇV:r$\,kKf&T-kE#(sDZOXMHG+(d(`Pl&HJKH8]-GO/]4AT-TBdXQUOK[Y9&TZVk‡∏ÅtHg@stNbaQ0VcC-PG,b[_?=+K,Tp4\q9ZBi3(G"8I=ummrp0b?gX1qBbM29nPe0],K(Frfq7O!E@l0db‡∏Å_TnD/c:?RY1q49j0j]‡∏ÇEL;Ni/Zge4eOO&'$!:39Qn(Ak‡∏Åf*gqgfi.'‡∏Ç5n5E/N8i\=NPj=[O9?‡∏ÅYH&976U@]hSgNV2cRLh)^%dY?kBE#320n,2%pWK/B!hK!pftA'GTuM6tMpPCG')Do4ju@r‡∏Åd‡∏Çm,H7(5ajgQ+[PEC!e]E=B;W&:k:c&mp^XbS.p\.`j;V3Dg=MlJdG=/L')W%KhTqlAg!SgZ#[M/=K(&aF%g?,NTe"UM9FTZF.+gu]ap=)59Q!ENq8g`9q$J"\#]D03[ZS$D`U072ROpA=-==af\sqG)LFW9[`WaNL374)f/8"@dh]I@@4"tM#3-]t;P;N(K‡∏Ç3EHUBoKYf.tA*‡∏Ç5#?kBKh8fB:7`0@rrVT$QR9‡∏Åj5Thb#3bUF6c@^-`S!Gcl#hGH@CRVGdK&raF.ZP+(1rJGamOBMTO/l;2c"‡∏ÇFI6‡∏Å5P3C#,jk5`38q%*q2N7m2(1‡∏Ç1okEKgP]?Y%;A.i^i‡∏Å]ZA"6"R‡∏ÅBBt[/XT1k.#E,,#nlN/I\@`r7s\:O-R?!J;-KYmCqX^`#?,bVTSKW!$kdk2ocb0#L_56]BRt`;&]U4;_4fI‡∏Ç^S;;`-3H9_Al$-&k-g\2;Jc?Lh1Y0Ro)9jTm`Jj2JT/"Z2oCqXHP?60&\I(Be-'PCG#/8F+MZYOE!VbInc".#RQDV+0Nu:Lq=W8/MRTOK=\/9JAm4rGr:7%DSWfuMu16=GGp"78‡∏ÇEL4mJ;7jZNaYc%bY^Y1D7ukV'5@JYbn?JR6DoaB$GbXUCkiY,,[Zp#iE‡∏ÅgfN`8WTD_@*4R*T(3G'i3Xh\9Q8JDcG!EKYIDTjX)FK1L-$^])fFE/JtSM%1‡∏Å-mHm(_gh??gO]D(#‡∏ÅuG"#Cb:W‡∏Ç*(jBf;VD0WuZFNLh[44aR4e9pbar'W`mEE!jGP(CoD;‡∏ÅX‡∏Ç)kf2KBM4bV'OWDG+r6"MVhH]9=$c1VtAl1,G'_)#.._*I6c`--]qR#Fh)0mpLiI!;[*:9rUO7U-b8(\'KhlpB)Bj&\#=1"YIdl,oKjn-5[q=M$gS[WhsA.‡∏ÅE02:pVOb^N2KG;Q%Y?gq9!A;$6RCCVkG+DLCkN5C9VduY/sI[kZ"sq;6‡∏ÅB,N,L%=3CW#.6[d"-9GqfORlrBTVPDb$G‡∏Å&SiL4!-U,._,/UP?cR+h09EW_L,$^["-‡∏Å‡∏Å6=eQiNpJ!3"6`:d(C]aYj-G[Bge,M#qekc8"-X)@"DoB‡∏Å‡∏Ç.t39'LA'bL/1‡∏Ç5[(`PAtR;t[o&*^9%4kpg?gj.M9htTE_]&oMS0+()Gp.UC91RO8`%-o‡∏ÅM@fUnqQ=NTnS#o++#%‡∏Ç0YN‡∏Å)‡∏Å/F@MA*'iA'^"J$O]S‡∏ÅNCnHtuKdLoQL(Z)c9‡∏Çh(g7Ys0lpB/3U?g"Y:D`YiF(t_4`BU3!6gLS*5i.I%+;q^k/&rlr.@MXa[UL-rlrUa/J@V8H.JSRQq"u/1Cof@2H&0_mC"@‡∏Åa?*eR3)oKd\1&_,9ON(Mqq,JU?IR‡∏ÅHBg\LP*-/1gl]GS^'WWop.T`7Tgs'kV!:Q?lYbRJWMY44JJnqG1;0-#JBQQ;a%&\j‡∏Ç-B#_W\_!A)&2W^o0.ojMhG&cIZE\M:KH‡∏Å‡∏ÅL4t-#d`]P\$rL/ATT_J.@E[R8[o-_DSmWnq`G"%Wfo\90QoTOJL,&29"h`@GbLQCfC‡∏Çl!flf‡∏Ç5Z-TgcY/l:V.MU&DT/.V$#M'4XD01V)aM&l]YZur^/dikB!%IMU%SSq&‡∏Å^)F1^Lb*O1VF%‡∏ÅAgrKa'KVX5ob`Y),E)JIXDp?=%7Z9LZFiO1V#D)FiCZ30mA+MR=1(68X;F*,K)\Zc0"bC1M(nNIA_bP=#ZFS9A-pf=IRL[NWS8RLYath/k%,&LV,M,CW=H‡∏Å/i3`d?ll..$l:Y6A?e#C@!*.!;ht!M\p]:nS'[*"PJrPUU+\@Z)‡∏ÅG.qiL1Aj3LZ‡∏Çg46QW?[U`jTbW/i5N&aK4of&fXdP+hG3=?`X3fJaAnTaGhG8\)e:E"2Km;tC?k@u(=‡∏Ç(JbM^c?5.N"=BSRJF7tmh1,]kjucSKk@C\RK&Zaf[=KTHpSUfV:MeDD5E)^[r/#`4'/JNbHDiF%-mZ[/@;P2_‡∏ÅEWd66)+!#$`'S4k21%hgYUG)+(uYk0t+r-!J!h1,j%Y*\Irq9@s;b8NX`3l8N*2(nT&[X]?"Er"`i]s4`RsPoEna-AicOcdIdQ3]Nn.e6hJs/[‡∏Å"jQAk3VLjWhHo`D!ZSGC4#;baQE:4sM_^%\gd[Tf?OMgs1E,#S&*56scF6/t?BCDrBhG:7hM`Li6oI#F`"c‡∏ÅroH.g\Rl/4'5Wa.od]5Gt$$C59+RN=nr])tLCG&F13ohr‡∏ÅAUq\-/,8:!TQ2?JRW%HEmF46.n3ls7"750.WrZ?qsQ‡∏ÅaM0,MF`EH$?n7?@Fe*6[kh13n4_^0aQ$(/=3/isG,VNUDZ/!X*BhQZ9Vct4g'QLmd:N‡∏Ç6hja?h8ggtt]-H/eIZF:GW&r3doA2d47.24%PkCSu.[YJ4qbYg&ir2@8r*4AhR&uQXE@@KNL%9j`RqHXn9;r"mMm2\6XkXa4X..RNF\O8G6'ufiS2Z5""`%^Km;Bg$IOj:Kb+n3uH(*J=‡∏ÇTk+1:\T.‡∏ÅS#b^SSM6"8h)K/G%dadYOMModBs?!8\CW^-bakc&T40k%qlcAr9qjf\`6D4Je^T#8Zd97ENT.mXps*JP/*d4Yd‡∏ÇXC0a=tVT2"O\K-4duMY]IA?s6_/j8)‡∏Å4?CZi*Krf&tSIFl$BD4SjS@u^M;iur@(`5XO‡∏ÇnX@bc(&-D)/'HN'LEFfoq"`%K4=o"=2(Ci5%`GGBhHdtthd=5""3ia#%IG~‡∏Ç
-->
</markdown>