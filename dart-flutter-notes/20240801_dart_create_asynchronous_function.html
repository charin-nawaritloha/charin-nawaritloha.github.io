<!DOCTYPE html>
<html>
<head>
	<title>Dart: ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡πà‡∏ô asynchronous ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤ Future ‡∏à‡∏≤‡∏Å‡∏ú‡∏•‡∏Ç‡∏≠‡∏á Stream</title>

	<!--header-->
<meta charset="utf-8">
<meta name="author" content="Charin Nawaritloha">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" type="image/x-icon" href="favicon.ico">

<!-- syntax highlight -->
<link rel="stylesheet" href="highlight/styles/vs.css">
<script src="highlight/highlight.js"></script>
<script src="highlight/highlightjs-line-numbers.min.js"></script>	
<script>hljs.highlightAll();hljs.initLineNumbersOnLoad();</script>

<!-- web page css -->
<link href='css/normalize.css' rel='stylesheet' type='text/css'>
<link href='css/skeleton.css' rel='stylesheet' type='text/css'>
<link href='css/main.css' rel='stylesheet' type='text/css'>
<link href='css/fonts.css' rel='stylesheet' type='text/css'>

<!-- table of content generater -->
<script src='toc_js/toc.js' type='text/javascript'></script>

<!-- google ads -->
<script data-ad-client="ca-pub-9963456691869043" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!--/header-->
</head>


<body>

<div class="container">
<!--navbar-->
<div id="tocBox">
	<img id="clickmenu" src="images/menu.svg" />
	<div id="divtoc"></div>
</div>
<div id="navbar">
	<div class="container">
		<a href="index.html">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
		<a href="p/portfolio.html" class="nowrap">‡∏ú‡∏•‡∏á‡∏≤‡∏ô</a>
		<a href="p/profiles.html" class="nowrap">‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô</a>
	</div>
</div>
<div id="navbar_space"></div>
<!--/navbar-->




<div class="row">
<div class="twelve columns">
<!--content -->



<h1>Dart: ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡πà‡∏ô asynchronous ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤ Future ‡∏à‡∏≤‡∏Å‡∏ú‡∏•‡∏Ç‡∏≠‡∏á Stream</h1>
<p><img src="images/20240801/20240801_0000_cover.svg" class="u-max-full-width" /></p>
<p>‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö asynchronous ‡∏ô‡∏±‡πâ‡∏ô‡πÅ‡∏ó‡∏ö‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏™‡∏°‡∏±‡∏¢‡πÉ‡∏´‡∏°‡πà ‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á Dart ‡πÅ‡∏•‡∏∞ Flutter ‡∏î‡πâ‡∏ß‡∏¢ ‡πÅ‡∏ï‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏†‡∏≤‡∏©‡∏≤ ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡πÄ‡∏°‡∏≠‡∏£‡πå‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡πà‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô Future ‡πÅ‡∏•‡∏∞ Stream ‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡∏Å ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏•‡∏≠‡∏á‡∏î‡∏π‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÉ‡∏ô Stack Overflow ‡πÅ‡∏•‡πâ‡∏ß‡∏û‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏û‡∏∑‡πâ‡∏ô ‡πÜ ‡∏à‡∏ô‡∏ñ‡∏∂‡∏á‡∏à‡∏¥‡∏ô‡∏ï‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡πÑ‡∏°‡πà‡∏ñ‡∏∂‡∏á‡πÄ‡∏•‡∏¢‡∏ó‡∏µ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß</p>
<p>Note ‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡∏¢‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏î‡∏π‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏≠‡∏ô‡∏ô‡∏∂‡∏Å‡πÑ‡∏°‡πà‡∏≠‡∏≠‡∏Å</p>
<h2>‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Å‡∏±‡∏ô‡πÅ‡∏ö‡∏ö‡∏û‡∏∑‡πâ‡∏ô ‡πÜ</h2>
<p>‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏à‡∏≠ ‡πÅ‡∏•‡∏∞‡∏ô‡πà‡∏≤‡∏™‡∏ô‡πÉ‡∏à‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ô‡∏ö‡πà‡∏≠‡∏¢ ‡πÜ ‡∏Ñ‡∏∑‡∏≠ ‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏•‡∏∞‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå ‡πÉ‡∏ô <code>dart:io</code> ‡∏°‡∏µ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á <code>Directory.list()</code> ‡∏°‡∏≤‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‡πÇ‡∏î‡∏¢‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô Stream ‡∏ñ‡πâ‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÅ‡∏ö‡∏ö‡∏á‡πà‡∏≤‡∏¢ ‡πÜ ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô synchronous ‡∏Å‡πá‡πÉ‡∏ä‡πâ <code>await for</code> ‡∏ä‡πà‡∏ß‡∏¢ ‡πÅ‡∏ï‡πà‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏ß‡πà‡∏≤ <em>‡∏à‡∏∞‡πÄ‡∏≠‡∏≤‡πÅ‡∏ï‡πà‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡πÑ‡∏°‡πà‡πÄ‡∏≠‡∏≤‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå</em> ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á <code>if (file is File)</code> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÑ‡∏ü‡∏•‡πå‡∏°‡∏≤‡πÉ‡∏ä‡πâ</p>
<pre><code class="language-dart">Future&lt;List&lt;String&gt;&gt; dirFiles(Directory dir) async {
  List&lt;String&gt; files = &lt;String&gt;[];
  Stream&lt;FileSystemEntity&gt; lister = dir.list(recursive: false);
  await for (FileSystemEntity file in lister) {
    if (file is File) files.add(file.path);
  }
  
  return files;
}

void main(List&lt;String&gt; arguments) {
  test_playground.dirFiles(Directory(r&quot;D:\My Data&quot;)).then((listOfFile) {
    print(listOfFile.join('\n'));
  });
  print('end of main');
}
</code></pre>
<p>‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå <code>D:\My Data</code> ‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠</p>
<blockquote>
<p>end of main<br/>
D:\My Data\Add new folder.vbs<br/>
D:\My Data\Clear old files.vbs<br/>
D:\My Data\desktop.ini<br/>
D:\My Data\FileSyncSettings.ffs_gui<br/>
D:\My Data\sync.ffs_db<br/></p>
</blockquote>
<p>‡πÅ‡∏•‡πâ‡∏ß‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà <code>await for</code> ‡πÅ‡∏ï‡πà‡πÉ‡∏ä‡πâ <code>await</code> ‡πÅ‡∏ó‡∏ô‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏° ‡∏Å‡πá‡πÑ‡∏î‡πâ‡∏ô‡∏∞ ‡πÅ‡∏ï‡πà‡∏Å‡πá‡∏à‡∏∞‡πÅ‡∏õ‡∏•‡∏Å ‡πÜ ‡∏ß‡πà‡∏≤‡∏ó‡∏≥‡πÑ‡∏õ‡∏ó‡∏≥‡πÑ‡∏° üòÖ ‡∏ó‡∏≥‡πÇ‡∏î‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏á StreamSubscription ‡πÄ‡∏õ‡πá‡∏ô Future ‡πÅ‡∏ó‡∏ô</p>
<pre><code class="language-dart">Future&lt;List&lt;String&gt;&gt; dirFiles(Directory dir) async {
  List&lt;String&gt; files = [];
  Stream&lt;FileSystemEntity&gt; lister = dir.list(recursive: false);
  await lister.listen((file) {
    if (file is File) files.add(file.path);
  }).asFuture();
  
  return files;
}
</code></pre>
<p>‡∏Ç‡πâ‡∏≤‡∏á‡∏•‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏ö‡∏ô ‡πÅ‡∏ï‡πà‡πÅ‡∏ï‡∏Å‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô</p>
<pre><code class="language-dart">Future&lt;List&lt;String&gt;&gt; dirFiles(Directory dir) async {
  List&lt;String&gt; files = [];
  Stream&lt;FileSystemEntity&gt; lister = dir.list(recursive: false);
  StreamSubscription&lt;FileSystemEntity&gt; listener = lister.listen((file) {
    if (file is File) files.add(file.path);
  });

  await listener.asFuture();

  return files;
}
</code></pre>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9963456691869043"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-9963456691869043"
     data-ad-slot="5702321883"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>‡∏•‡∏≠‡∏á‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà async ‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏° Iterable ‡∏Ç‡∏≠‡∏á Stream ‡πÅ‡∏ó‡∏ô</h2>
<p>‡∏ï‡∏±‡∏ß Stream ‡∏à‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÅ‡∏ö‡∏ö Iterable ‡πÑ‡∏î‡πâ ‡πÅ‡∏•‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡∏à‡∏∞‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô Future ‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô‡πÉ‡∏ä‡πâ <code>forEach()</code> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÑ‡∏ü‡∏•‡πå ‡πÅ‡∏•‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô <code>Future&lt;void&gt;</code> ‡∏Å‡πá‡πÉ‡∏ä‡πâ <code>.then()</code> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤ files ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à</p>
<pre><code class="language-dart">Future&lt;List&lt;String&gt;&gt; dirFiles(Directory dir) {
  Stream&lt;FileSystemEntity&gt; lister = dir.list(recursive: false);
  List&lt;String&gt; files = [];
  
  return lister.forEach((file) {
    if (file is File) files.add(file.path);
  }).then((_) =&gt; files);
}
</code></pre>
<p>‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å <code>forEach()</code> ‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏ï‡πà‡∏≥ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏•‡πá‡∏Å ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ <code>forEach()</code> ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡∏Å‡∏ß‡πà‡∏≤ ‡πÅ‡∏•‡∏∞‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏°‡∏µ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ô‡πâ‡∏≠‡∏¢ ‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏à‡∏≤‡∏Å‡∏ô‡∏µ‡πâ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ß‡πà‡∏≤‡πÉ‡∏ä‡πâ await for ‡πÅ‡∏ó‡∏ô ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤‡∏°‡∏≤‡∏Å</p>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9963456691869043"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-9963456691869043"
     data-ad-slot="5405806399"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script> 
 
<h2>‡πÉ‡∏ä‡πâ Completer()</h2>
<p>‡∏ï‡∏±‡∏ß Completer ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô Object ‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á Future Object ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ç‡∏≠‡∏á Future ‡πÄ‡∏õ‡πá‡∏ô completed ‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á Completer ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ (‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠ <code>List&lt;String&gt;</code>) ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏á‡∏≤‡∏ô asynchronous ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á <code>Completer.complete(files)</code> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏£‡∏≤‡∏ö‡∏ß‡πà‡∏≤ completed ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏≠‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ</p>
<pre><code class="language-dart">Future&lt;List&lt;String&gt;&gt; dirFiles(Directory dir) {
  var files = &lt;String&gt;[];
  var completer = Completer&lt;List&lt;String&gt;&gt;();
  var lister = dir.list(recursive: false);

  lister.listen((file) {
    if (file is File) files.add(file.path);
  }, onDone: () =&gt; completer.complete(files));

  return completer.future;
}
</code></pre>
<p>‡∏à‡∏≤‡∏Å <a target="_blank" href="https://dart.dev/effective-dart/usage#avoid-using-completer-directly">‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û</a> ‡πÑ‡∏°‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ Completer ‡πÉ‡∏ô‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÉ‡∏ô Future ‡∏´‡∏£‡∏∑‡∏≠ Stream ‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° ‡∏ï‡∏±‡∏ß Future Object ‡∏à‡∏∞‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤ ‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á error ‡∏á‡πà‡∏≤‡∏¢‡∏Å‡∏ß‡πà‡∏≤</p>
<p>‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ Completer</p>
<ol>
<li>new asynchronous primitives ‡∏ô‡∏±‡πâ‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ô‡∏≥ Completer ‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÉ‡∏ô
<ul>
<li><a target="_blank" href="https://api.dart.dev/stable/3.4.4/dart-async/Timer-class.html">Timer</a></li>
<li><a target="_blank" href="https://api.dart.dev/stable/3.4.4/dart-async/scheduleMicrotask.html">scheduleMicrotask</a></li>
<li><a target="_blank" href="https://api.dart.dev/stable/3.4.4/dart-async/Zone-class.html">Zone</a></li>
</ul>
</li>
<li>interfacing with asynchronous code that doesn't use futures
<ul>
<li>Callback-based API ‡∏´‡∏£‡∏∑‡∏≠ Database query ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Future</li>
<li>asynchronous code ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô</li>
</ul>
</li>
</ol>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9963456691869043"
     crossorigin="anonymous"></script>
<!-- h2-3 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-9963456691869043"
     data-ad-slot="6575154506"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<h2>‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏ó‡∏£‡∏≤‡∏ö</h2>
<ul>
<li><code>async</code> ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏á‡∏≤‡∏ô asynchronous ‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö synchronous ‡πÇ‡∏î‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ <code>await</code> / <code>await for</code>  ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ ‡∏Å‡πá‡πÉ‡∏´‡πâ‡πÄ‡∏≠‡∏≤ <code>async</code> ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏Ç‡∏≠‡∏á‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡πà‡∏ô</li>
<li>‡∏´‡∏≤‡∏Å‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡πà‡∏ô‡πÑ‡∏´‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ <code>await</code> / <code>await for</code> ‡πÑ‡∏î‡πâ ‡∏Å‡πá‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏à‡∏∞‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç code ‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô <code>.then()</code> ‡∏´‡∏£‡∏∑‡∏≠ <code>.listen()</code></li>
<li>‡∏Å‡∏≤‡∏£‡∏î‡∏±‡∏Å‡∏à‡∏±‡∏ö Exception ‡∏î‡πâ‡∏ß‡∏¢ try-catch ‡∏Å‡∏±‡∏ö‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô asynchronous ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô synchronous ‡∏î‡πâ‡∏ß‡∏¢ await</li>
</ul>




<!--/content -->
</div></div>

<!--counter-->
<div class="row" style="padding-top:3rem;">
<div class="five columns">&nbsp;</div>
<div class="two columns">
	<div id="histats_counter"></div>
	<!-- Histats.com  START -->
	<script type="text/javascript">var _Hasync= _Hasync|| [];
	_Hasync.push(['Histats.start', '1,4227101,4,227,112,50,00011010']);
	_Hasync.push(['Histats.fasi', '1']);
	_Hasync.push(['Histats.track_hits', '']);
	(function() {
	var hs = document.createElement('script'); hs.type = 'text/javascript'; hs.async = true;
	hs.src = ('//s10.histats.com/js15_as.js');
	(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(hs);
	})();</script>
	<noscript><a href="/" target="_blank"><img  src="//sstatic1.histats.com/0.gif?4227101&101" alt="" border="0"></a></noscript>
	<!-- Histats.com  END -->
</div>
<div class="five columns">&nbsp;</div>	
</div>
<!--/counter-->



<!--footer-->
<!--share button-->
<script type="text/javascript">
function share_fb()
{
	window.open("https://www.facebook.com/sharer/sharer.php?u=" + encodeURIComponent(window.location.href), "_blank");
}

function share_twitter()
{
	window.open("https://twitter.com/intent/tweet?url=" + encodeURIComponent(window.location.href) + "&text="+ encodeURIComponent(document.title), "_blank");
}
</script>

<div class="row" style="padding-top:3rem;">
<center>
	<button style="background-color: #3578e5;color: white;" onclick="share_fb();">‡πÅ‡∏ä‡∏£‡πå‡∏ö‡∏ô Facebook</button>
	<button style="background-color: #1b95e0;color: white;" onclick="share_twitter();">‡πÅ‡∏ä‡∏£‡πå‡∏ö‡∏ô Twitter</button>
</center>
</div>
<!--/share button-->
<!--/footer-->
</div>
</body>
</html>
<markdown style="display:none">
<!--
‡∏Å~+,^C)z!"-tSh+eq[(;=*#hOtQh0Ol\eZcNrjOWn:.OZ)NjfW2D3:X`UeF?FZOh)0FS'Suj6B2!=P-A*O)0LBT[O‡∏Ç8f-l$8bIKRJO(3E;ugWdeuD]i$*p]"=t;SY,BKe1%Q*74/`‡∏Ç/=gUSa]=l.4&(aaA=+^IdU\jprA‡∏Åc8PAel[(LAJA1`8%rh?_n['F%u)QKqkSaj2qkSgHPg$j:bCb6‡∏ÇN0(#=\P1k@S.Q[G,H-b.iTRe59rLq'e6VPg;h55='PUY:\H2f@.(%7q'‡∏ÇdX?a;%j+8TEf_VdE9I?M:O6_qQmRSK-@sB#SNNYr#‡∏Å6L\-9pK:0@EE6k‡∏ÇY8P?6dL#S=oXP-X3f/)'Qg;Xu]1=1]06;/P``oiDDWR0H‡∏Å9qZ0,il+-7H6c‡∏Ç`;FRf(7pFh0p/Lo&3714#B9a)ZDHjj1Z8N_beF,K5-&'2/BY:3"tknkP^,_C,-W*‡∏Å5]=RaU8DSGWI+8kCVfSieM‡∏Ç&GA1P.O2mNRGpTum5]V5),+#hkcMo\9qtR]oqc&[:3K/edRY1QTb0g(Mm]4@`?$61oX6-CV*/(iO8PU/a(*'o=F2!s=;$YkK\^"u;6(?o-#SrU?K+/H[,qXbBqKq-2f(JUi5'kP‡∏ÇU#F5i+2*5T@-Ym)CYCW'7SWTT,/A?622ZM8WuHO'3)dKljp:HjOL0d‡∏ÅIY‡∏ÇZ32771Lsqr,$Zgk!?I.";3so8Za&K$R'2bZmg`m'PQ9]‡∏ÅM8Y+nZ&7t)DdOErQs3jouXqd^3%uCf+HfpV#iFMg@Ng7‡∏Å_8/eq\Y_Ihm]JFrlL)G:O??^B‡∏ÇiZ^B.Y)ei:-+;-f&Rs%Bjq(lGDKdn-Jb6,W?JcTHD:(jf=QP‡∏Å3iNqc70_`I3,Q-q:+?LgOla,`J+)tA8d70nka.cU9F"[sBf)hY'^eOtFl3u@uUJOqW[,e"(Eto8Wf[A@9P;8B‡∏Ç@,cthp/1TDRE(\AfQ"V1?\s9`FIkP-@')*a+a7pe‡∏Ç[2[b.*+KU‡∏Çk&Gs&LPS$fJc&Z7%8&X(r39nl_G'UD,'&.!r+N)N&‡∏ÇDXs4R6ho3Z.M7^'q+Efm;V"M_oj/\f2k+1$‡∏ÅCLBA626!6X1T.+\pVTCWaE.Qa];IgUGeUsJPRg@(!.2fa9rR$\FXX+ST_90UroDAmfN,'‡∏Çmn‡∏ÇS#R2u@WAMD9/Q"%HdDS'curO)DfS$*d]"C2"n.I._A"I'Krl!8K\G[t1PIHGnWW'`73DT!b(`bj.eb6\O"\7$pqKTP2k%=,[md-CJX/Sql2BCQ‡∏Å($l‡∏Åh@‡∏Åp`FM'N‡∏Å2-1k4I/)TV1u)pXlM+#;o.P-X,c;nj(-.6c!:&Gcg"BX@-JUn/=a?eY3Qjk9#/e_%n'MHs!R27%4Fh)R+Y),rnr+Y=3m_N.JtbTc_cr*X4EC`N]7dkKWM3@poajS‡∏Çf/iS'‡∏Å8qB‡∏Å$h‡∏ÇYF%-fH\f0p*7.!sb[0!0ck!1o‡∏Ç;Hp'4IO‡∏Ç/PtEHF6No0‡∏ÇdKADh4gi'6&T00jEsqIhU\=1UcXR!*b$&5oj&'‡∏Å73A-eDVo,']KcNrl\mh,Kj!Q$UC\WHf2D"A5\4^'45?Na]X]G@EV-‡∏Çts]E$!cAMjl6bUb\p9\!!,qVK!tHWHpuU7rPeTWj,-'KeY&W["JqY(fbo)'o\$B1@=n_4\*)N]aV?gqe"/I)Q$]lJ$gPE`8kK%1‡∏Çmk%L5Y_jk,Rj2;s;kX"4WE'__P74RY5eaOrN`‡∏Çd\-(kuH_9^#?n-baSH-*c/48DAf;H8KlIj‡∏Å!JHgZ7‡∏Åo=-&461Bh[JQ,1H=CikQBsUT4\W-gf@G-‡∏Å7T\;!]@BIf#umU9TSXJE5RVO`,hh/Ed4!Z7UR*h4\B1#9@)m'dJK5U_ROJ@PD.S:fX./Eeo,jGiUE"i,k)CgM?PJ(f\IT‡∏ÅZY]e.39cgfik$‡∏ÇZV;lL)0L‡∏Å*W0cfbCsl`l7P`(STqGD‡∏Ç9hE]/ok‡∏Å6#0Bb+E$DY4ngTJ4_=]I%INdE96‡∏Å(LK@cr:JZ298+j=?4P;U4i2KK1C6UFiKUgs!m=6p!3U!HZAGrieHDqb+m(cmh3*@NV9m-DQ=5k!pc$+QOPKGgqTMZ_AW%S%asEBI$!`dQ^"o80I+@Xf$p,\ctIUeE_‡∏Ç%YDQlR3LHPfIYZd)2X\jg`Q,-+A+P0r*%`$cnO1JF!/`R+#5\‡∏Çc#Ze2#Dkn/)U:'tfQEQlFjPU/h7W/nNq;5ddk[5%c1d‡∏Ç^ZP09OT5)ut"Yo4Zg`K1/h3O‡∏ÇDkeqerm3Cu4gNe(fZ5$_\U0KWAl//pL?rgOWB9Y[Z(Fh-^/5]7Ln-bRVdM[B-eXKg8gW"Y!Td8Q)iUF,'Xm$W7gQ#@4t[gpi5Acg:#cPMl=KWkJZV/&KRcrXRW-B&?RDg%UV/m9pmF1_3baA^&Z&TqH&_%Ka%gRV&L4er'u/q]o2.[T‡∏ÇlqP4hW?aKGbcOJ6MGp6=X:9DcMmJ0R+9;5X\S,f$a0W+B%oC$KLK26LsjdAHe1KC$Q=k)FL2Wp2.NOK3AA42["O?^9G$qj6C_R/O`+_r%dS=:‡∏Ç9qcYAh;ga_pX.`?.0$WWKS,Z(@`THKJWFUI-^m;bq7dVAq*7t+=LH;nYfYnk[3c%0:B*abQ"XVQ,7^WpKNdp+hT‡∏ÅqnNWb*Ue!lj#&I‡∏Ç,GF5%Gf^9Rk;"A#aVfa+[O4O9SccM:q*Q)0h[]V2]%`rf'3XIS./FZ?&%;M‡∏Çughg4i=oqZ3u21,ZhCKDAgkc;p!.`1/Etq1.oGoA.$.t'L‡∏Çd$8G`2Jn&XpNUB][WE]#=&*N]4‡∏ÅJINVMDQZG-WXn%0h$%!X+a8tN33a*Me_i:LfPNb'r9cUmn/$S‡∏Ç7i?K@28‡∏ÇjT)[eX&b^J:AV""bcH58N2__nc‡∏Åa,/hG‡∏ÇHE#5P#UeV\_$6‡∏Åc[@_ZKbH\],2'hZPPAM&J7"E[/?ub`6\G2ci).[;rEt=BogRV9\f5scM7+Xr(\0PQ&Zcpm-3I#%N8/D6SRoii1:unkggcuUq(pc(TG%Mslu-/ND4%k;]=$lj\Z8GQDDP'A,B‡∏Ç'o,_la,aA.kE_tT'1nMO=l?P‡∏ÅN/IFd!&N500R`TaAfXGM9]XkLhbk!LVrFk*D52Y5M#U.2@K030_RIkPPDT9T!-nkI"^X1N%g"K‡∏ÅILY*:'""8[%C@PCO03-o‡∏ÇBTd7^$PkBB]fDdmoa=mQKDS7Q=T"tE*)+j.W)sSG)"M?l$‡∏Å+s?d9B‡∏Ç3a$FoHk*!R[YI=3ST\a%gb.BmF0:``amWKbX0^Zg;DW_r%UWAQKjN/9oDUq;,#\a%P1J&3‡∏Ç&NEOjFDOVMVc"`MJjZ"7fEdu;A'](.&e`@U"#"N?trrHGob=D=~‡∏Ç
-->
</markdown>